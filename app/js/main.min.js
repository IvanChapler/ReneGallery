"use strict";let box=document.getElementById("wrapper"),cols=document.querySelectorAll(".colors__col"),lock=document.querySelectorAll(".colors__lock");function setColor(t){let o=t?getColorsHash():[];cols.forEach(((e,l)=>{let n=t?0===o.length?getRandomColor():o[l]:getRandomColor(),c=e.querySelector("h2"),r=e.querySelector("span");"icon-unlocked"===r.className?(e.style.backgroundColor=n,c.textContent=n,setTextColorFromLuminance(c,e.style.backgroundColor),setTextColorFromLuminance(r,e.style.backgroundColor),t||o.push(n)):t||o.push(c.textContent)})),console.log(o),updateColorsHash(o)}function getRandomColor(){let t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],o="#";for(let e=1;e<=6;e++)o+=t[Math.floor(Math.random()*t.length)];return o}function setTextColorFromLuminance(t,o){let e=o.slice(4,o.length-1).split(", "),[l,n,c]=e,r=.2126*l+.7152*n+.0722*c;t.style.color=r>186?"#000000":"#ffffff"}function copyTextByClick(t){return navigator.clipboard.writeText(t)}function updateColorsHash(t=[]){document.location.hash=t.map((t=>t.substring(1))).join("-")}function getColorsHash(){return document.location.hash.length>1&&"#colors"!=document.location.hash&&"#gallery"!=document.location.hash&&"#biography"!=document.location.hash?document.location.hash.substring(1).split("-").map((t=>"#"+t)):[]}document.addEventListener("click",(function(t){let o=t.target.dataset.type;if("button"===o||t.target.classList.contains("icon-unlocked")||t.target.classList.contains("icon-lock")){let o="button"===t.target.tagName.toLowerCase()?t.target.firstElementChild:t.target;o.classList.toggle("icon-unlocked"),o.classList.toggle("icon-lock")}"col"===o&&setColor(),"text"===o&&(copyTextByClick(t.target.textContent),t.target.dataset.tooltip="скопировано!",setTimeout((function(){t.target.dataset.tooltip="копировать"}),1e3)),"hamburger"===o&&showMobileMenu()})),setColor(!0);{let t=document.getElementById("menu"),o=window.scrollY;window.onscroll=function(){let e=window.scrollY;e>o&&!t.children[0].classList.contains("menu__wrapper_active")?t.style.top="-"+window.getComputedStyle(t).height:t.style.top="0px",o=e}}function smoothScroll(){const t=document.querySelectorAll('a[href^="#"]');for(let o of t)o.addEventListener("click",(function(t){t.preventDefault(),console.log(o);const e=o.getAttribute("href").substring(1);console.log(e),document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start"})}))}function showMobileMenu(){let t=document.querySelector(".menu__wrapper");document.querySelector(".hamburger").classList.toggle("hamburger__active"),t.classList.toggle("menu__wrapper_active")}smoothScroll();